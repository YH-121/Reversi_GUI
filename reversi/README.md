Reversi (Othello) - CLI

概要
- 標準 8x8 盤のリバーシを CLI で遊べます。
- 人間同士 / 人間 vs CPU に対応（CPU は簡易ヒューリスティック）。

実行方法
- 推奨: `cd def` の上で `python -m reversi`
- 直接: `python .\def\reversi\main.py`
- 終了: `q` または `Ctrl+C`

GUI (Tkinter)
- 起動: `cd def` → `python -m reversi.gui_tk`
- または: `python .\def\reversi\gui_tk.py`
- `python .\def\reversi\main.py` でも GUI を起動するよう設定済み。

使い方（GUI）
- 起動時にモード選択ダイアログが表示されます。
  - Yes → 人間 vs CPU、No → 人間同士
- 人間 vs CPU を選んだ場合、続けて手番色（黒=Yes / 白=No）を選びます。
- 盤面サイズは 8/12/16 から選択できます（起動時および「New Game」時にダイアログ表示）。
- 盤面のマスをクリックして着手します（人間の手番のみ操作可）。
- 合法手は小さな円の枠でハイライトされます。
- 双方が合法手を持たない場合は自動的にパス/終局が処理されます。
- スコアと手番/結果は上部のステータスバーに表示されます。

注意
- Tkinter は標準ライブラリですが、Linux では `python3-tk` 等のパッケージが必要な場合があります。
- ウィンドウサイズを変更すると盤もリサイズされます（自動再描画）。

操作
- 座標入力: `d3` または `3d`（大文字小文字どちらでも可）。
- パス: `pass`（合法手があるときは不可）。

設計（Design）
- モジュール分割
  - `logic.py`: ルールと盤操作の中枢。合法手判定、反転、スコア、終局判定。
  - `ai.py`: 簡易評価（位置重み）と貪欲選択の CPU。
  - `cli.py`: 盤の描画、入力受付、進行管理（UI 層）。
  - `main.py` / `__main__.py`: エントリーポイント（`python -m reversi` で起動）。

- 盤面表現
  - `List[List[int]]` を使用。`0=空 / 1=黒 / -1=白`。
  - プレイヤーも同じ数値（1/-1）で表現し、反転などの計算を簡潔に。

- 合法手の判定と反転
  - 8 方向（上下左右斜め）にレイを伸ばし、
    「相手石が1つ以上続いた後に自分石がある」区間を反転対象として収集。
  - 合法手は「少なくとも1方向で反転が起きる空マス」。

- 終局判定とスコア
  - 双方に合法手が無ければ終局。
  - スコアは盤面上の `1`（黒）と `-1`（白）を単純カウント。

- CPU（ai.py）
  - 先読みなしの 1 手読み（静的評価のみ）。
  - 位置重みテーブルで評価（角>辺>その他、危険マスは減点）。
  - 強化したい場合はミニマックス + αβ枝刈りの導入を推奨。

ファイル構成
- `reversi/logic.py`: ルール・合法手・反転・スコア。
- `reversi/ai.py`: 評価関数と最善手選択。
- `reversi/cli.py`: CLI ゲームループ。
- `reversi/main.py`: 起動スクリプト（単体実行対応）。
- `reversi/__main__.py`: `python -m reversi` 用エントリ。
- `reversi/gui_tk.py`: Tkinter ベースの GUI。

開発メモ
- 型ヒントあり（mypy/pyright 等で静的チェック可能）。
- 盤サイズは `create_board(size)` を拡張すれば変更可能。
- 入力のパースは `logic.parse_coord` に集約。

将来の拡張案
- ミニマックス + αβ枝刈りで CPU 強化、反転数・安定石・可動性などの複合評価。
- 盤サイズ可変や対局ログ保存、棋譜の再生。
- GUI（Tkinter/Pygame など）や Web UI 化。
